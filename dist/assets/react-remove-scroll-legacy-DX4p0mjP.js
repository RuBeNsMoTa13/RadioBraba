System.register(["./tslib-legacy-DaEGAcIy.js","./react-legacy-C9BETX1q.js","./react-remove-scroll-bar-legacy-BolPOHy3.js","./use-sidecar-legacy-DkUDJGLH.js","./use-callback-ref-legacy-Blgy6zZO.js","./react-style-singleton-legacy-hFSNVj1z.js"],function(e,t){"use strict";var n,r,o,a,c,l,i,u,s,f,d;return{setters:[function(e){n=e._,r=e.a,o=e.b},function(e){a=e.r},function(e){c=e.z,l=e.f,i=e.R},function(e){u=e.c,s=e.e},function(e){f=e.u},function(e){d=e.s}],execute:function(){var t=u(),v=function(){},h=a.forwardRef(function(e,o){var c=a.useRef(null),l=a.useState({onScrollCapture:v,onWheelCapture:v,onTouchMoveCapture:v}),i=l[0],u=l[1],s=e.forwardProps,d=e.children,h=e.className,m=e.removeScrollBar,g=e.enabled,p=e.shards,w=e.sideCar,y=e.noRelative,b=e.noIsolation,E=e.inert,R=e.allowPinchZoom,C=e.as,k=void 0===C?"div":C,S=e.gapMode,N=n(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),L=w,M=f([c,o]),T=r(r({},N),i);return a.createElement(a.Fragment,null,g&&a.createElement(L,{sideCar:t,removeScrollBar:m,shards:p,noRelative:y,noIsolation:b,inert:E,setCallbacks:u,allowPinchZoom:!!R,lockRef:c,gapMode:S}),s?a.cloneElement(a.Children.only(d),r(r({},T),{ref:M})):a.createElement(k,r({},T,{className:h,ref:M}),d))});h.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},h.classNames={fullWidth:l,zeroRight:c};var m=!1;if("undefined"!=typeof window)try{var g=Object.defineProperty({},"passive",{get:function(){return m=!0,!0}});window.addEventListener("test",g,g),window.removeEventListener("test",g,g)}catch(P){m=!1}var p=!!m&&{passive:!1},w=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return"hidden"!==n[t]&&!(n.overflowY===n.overflowX&&!function(e){return"TEXTAREA"===e.tagName}(e)&&"visible"===n[t])},y=function(e,t){var n=t.ownerDocument,r=t;do{if("undefined"!=typeof ShadowRoot&&r instanceof ShadowRoot&&(r=r.host),b(e,r)){var o=E(e,r);if(o[1]>o[2])return!0}r=r.parentNode}while(r&&r!==n.body);return!1},b=function(e,t){return"v"===e?function(e){return w(e,"overflowY")}(t):function(e){return w(e,"overflowX")}(t)},E=function(e,t){return"v"===e?[(n=t).scrollTop,n.scrollHeight,n.clientHeight]:function(e){return[e.scrollLeft,e.scrollWidth,e.clientWidth]}(t);var n},R=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},C=function(e){return[e.deltaX,e.deltaY]},k=function(e){return e&&"current"in e?e.current:e},S=function(e){return"\n  .block-interactivity-".concat(e," {pointer-events: none;}\n  .allow-interactivity-").concat(e," {pointer-events: all;}\n")},N=0,L=[];function M(e){for(var t=null;null!==e;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}var T=s(t,function(e){var t=a.useRef([]),n=a.useRef([0,0]),r=a.useRef(),c=a.useState(N++)[0],l=a.useState(d)[0],u=a.useRef(e);a.useEffect(function(){u.current=e},[e]),a.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(c));var t=o([e.lockRef.current],(e.shards||[]).map(k),!0).filter(Boolean);return t.forEach(function(e){return e.classList.add("allow-interactivity-".concat(c))}),function(){document.body.classList.remove("block-interactivity-".concat(c)),t.forEach(function(e){return e.classList.remove("allow-interactivity-".concat(c))})}}},[e.inert,e.lockRef.current,e.shards]);var s=a.useCallback(function(e,t){if("touches"in e&&2===e.touches.length||"wheel"===e.type&&e.ctrlKey)return!u.current.allowPinchZoom;var o,a=R(e),c=n.current,l="deltaX"in e?e.deltaX:c[0]-a[0],i="deltaY"in e?e.deltaY:c[1]-a[1],s=e.target,f=Math.abs(l)>Math.abs(i)?"h":"v";if("touches"in e&&"h"===f&&"range"===s.type)return!1;var d=y(f,s);if(!d)return!0;if(d?o=f:(o="v"===f?"h":"v",d=y(f,s)),!d)return!1;if(!r.current&&"changedTouches"in e&&(l||i)&&(r.current=o),!o)return!0;var v=r.current||o;return function(e,t,n,r){var o=function(e,t){return"h"===e&&"rtl"===t?-1:1}(e,window.getComputedStyle(t).direction),a=o*r,c=n.target,l=t.contains(c),i=!1,u=a>0,s=0,f=0;do{if(!c)break;var d=E(e,c),v=d[0],h=d[1]-d[2]-o*v;(v||h)&&b(e,c)&&(s+=h,f+=v);var m=c.parentNode;c=m&&m.nodeType===Node.DOCUMENT_FRAGMENT_NODE?m.host:m}while(!l&&c!==document.body||l&&(t.contains(c)||t===c));return(u&&Math.abs(s)<1||!u&&Math.abs(f)<1)&&(i=!0),i}(v,t,e,"h"===v?l:i)},[]),f=a.useCallback(function(e){var n=e;if(L.length&&L[L.length-1]===l){var r="deltaY"in n?C(n):R(n),o=t.current.filter(function(e){return e.name===n.type&&(e.target===n.target||n.target===e.shadowParent)&&(t=e.delta,o=r,t[0]===o[0]&&t[1]===o[1]);var t,o})[0];if(o&&o.should)n.cancelable&&n.preventDefault();else if(!o){var a=(u.current.shards||[]).map(k).filter(Boolean).filter(function(e){return e.contains(n.target)});(a.length>0?s(n,a[0]):!u.current.noIsolation)&&n.cancelable&&n.preventDefault()}}},[]),v=a.useCallback(function(e,n,r,o){var a={name:e,delta:n,target:r,should:o,shadowParent:M(r)};t.current.push(a),setTimeout(function(){t.current=t.current.filter(function(e){return e!==a})},1)},[]),h=a.useCallback(function(e){n.current=R(e),r.current=void 0},[]),m=a.useCallback(function(t){v(t.type,C(t),t.target,s(t,e.lockRef.current))},[]),g=a.useCallback(function(t){v(t.type,R(t),t.target,s(t,e.lockRef.current))},[]);a.useEffect(function(){return L.push(l),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:g}),document.addEventListener("wheel",f,p),document.addEventListener("touchmove",f,p),document.addEventListener("touchstart",h,p),function(){L=L.filter(function(e){return e!==l}),document.removeEventListener("wheel",f,p),document.removeEventListener("touchmove",f,p),document.removeEventListener("touchstart",h,p)}},[]);var w=e.removeScrollBar,T=e.inert;return a.createElement(a.Fragment,null,T?a.createElement(l,{styles:S(c)}):null,w?a.createElement(i,{noRelative:e.noRelative,gapMode:e.gapMode}):null)});e("R",a.forwardRef(function(e,t){return a.createElement(h,r({},e,{ref:t,sideCar:T}))})).classNames=h.classNames}}});
