import{j as e}from"./ui-vendor-xd6j19Te.js";import{a as o}from"./react-vendor-CNkq0Hwn.js";const g="AIzaSyBDzEWdMyv4oKCtiIU60acOdqjYja9JzNE",j="UCFB5fmqPC0XilvMTFnzxFig";async function y(){try{const t=await fetch(`https://www.googleapis.com/youtube/v3/search?key=${g}&channelId=${j}&part=snippet,id&order=date&maxResults=10&type=video`);if(!t.ok)throw new Error("Videos não encontrados");const a=await t.json();return console.log("Dados do YouTube:",a.items),a.items}catch(t){throw console.error("Erro ao buscar vídeos do YouTube:",t),t}}const N=({videoId:t})=>t?e.jsx("div",{className:"w-full flex items-center justify-center mt-8",children:e.jsx("div",{className:"relative w-full max-w-3xl aspect-video",children:e.jsx("iframe",{className:"absolute top-0 left-0 w-full h-full",src:`https://youtube.com/embed/${t}?rel=0`,title:"YouTube video player",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})}):e.jsx("div",{className:"w-full h-64 flex items-center justify-center",children:"Nenhum vídeo disponível"}),S=()=>{const[t,a]=o.useState([]),[d,c]=o.useState(null),[p,n]=o.useState(!0),[m,u]=o.useState(null);return o.useEffect(()=>{(async()=>{try{n(!0),u(null);const i=localStorage.getItem("videos"),h=localStorage.getItem("videos_time"),x=Date.now(),f=1e3*60*60;if(i&&h&&x-parseInt(h)<f){const r=JSON.parse(i);a(r),r.length>0&&c(r[0].id),n(!1);return}const l=(await y()).map(r=>({id:r.id.videoId,title:r.snippet.title,description:r.snippet.description,thumbnailUrl:r.snippet.thumbnails.high.url}));a(l),localStorage.setItem("videos",JSON.stringify(l)),localStorage.setItem("videos_time",x.toString()),l.length>0&&c(l[0].id)}catch(i){console.error("Erro ao carregar vídeos:",i),u("Não foi possível carregar os vídeos do YouTube. Tente novamente mais tarde.")}finally{n(!1)}})()},[]),p?e.jsx("div",{className:"flex justify-center items-center h-screen text-black",children:"Carregando vídeos..."}):m?e.jsx("div",{className:"flex justify-center items-center h-screen text-red-500",children:m}):t.length===0?e.jsx("div",{className:"flex justify-center items-center h-screen text-gray-400",children:"Nenhum vídeo encontrado no canal do YouTube."}):e.jsxs("section",{className:"container mx-auto p-4 md:p-8 min-h-screen",children:[e.jsx("div",{className:"px-6 py-4",children:e.jsxs("div",{className:"text-center mb-10",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-2 text-primary",children:"ACOMPANHE NOSSO YOUTUBE"}),e.jsx("p",{className:"text-xl text-secondary",children:"Se inscreva e ligue o sininho."})]})}),e.jsx("div",{className:"mb-12",children:e.jsx(N,{videoId:d||""})}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:t.map(s=>e.jsxs("div",{className:`
              bg-card rounded-lg shadow-md overflow-hidden
              transition-transform-shadow transform hover:scale-105 duration-300
              cursor-pointer border-1 hover:shadow-lg 
              ${d===s.id?"border-primary":"border-transparent"}
            `,onClick:()=>c(s.id),children:[e.jsx("img",{src:s.thumbnailUrl,alt:s.title,className:"w-full h-48 object-cover"}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-xl font-semibold text-primary mb-2 line-clamp-2",children:s.title}),e.jsx("p",{className:"text-gray-400 text-sm line-clamp-3",children:s.description}),e.jsx("a",{className:"text-primary text-sm line-clamp-3 mt-1",href:`https://youtube.com/watch?v=${s.id}`,target:"_blank",rel:"noopener noreferrer",children:e.jsx("h3",{children:"Acessar Video"})},s.id)]})]},s.id))})]})};export{S as default};
